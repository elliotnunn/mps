;
;    File:       SFNTTypes.a
;
;    Contains:   Font file structures.
;
;    Version:    Technology: Mac OS
;                Release:    Universal Interfaces 3.4
;
;    Copyright:  © 1994-2001 by Apple Computer, Inc., all rights reserved.
;
;    Bugs?:      For bug reports, consult the following page on
;                the World Wide Web:
;
;                    http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__SFNTTYPES__') = 'UNDEFINED' THEN
__SFNTTYPES__ SET 1

	IF &TYPE('__MACTYPES__') = 'UNDEFINED' THEN
	include 'MacTypes.a'
	ENDIF

sfntDirectoryEntry		RECORD 0
tableTag				 ds.l	1				; offset: $0 (0)
checkSum				 ds.l	1				; offset: $4 (4)
offset					 ds.l	1				; offset: $8 (8)
length					 ds.l	1				; offset: $C (12)
sizeof					 EQU *					; size:   $10 (16)
						ENDR
;  The search fields limits numOffsets to 4096. 
sfntDirectory			RECORD 0
format					 ds.l	1				; offset: $0 (0)
numOffsets				 ds.w	1				; offset: $4 (4)		;  number of tables 
searchRange				 ds.w	1				; offset: $6 (6)		;  (max2 <= numOffsets)*16 
entrySelector			 ds.w	1				; offset: $8 (8)		;  log2(max2 <= numOffsets) 
rangeShift				 ds.w	1				; offset: $A (10)		;  numOffsets*16-searchRange
table					 ds		sfntDirectoryEntry ; offset: $C (12) <-- really an array of length one ;  table[numOffsets] 
sizeof					 EQU *					; size:   $1C (28)
						ENDR

sizeof_sfntDirectory			EQU		12
;  Cmap - character id to glyph id mapping 

cmapFontTableTag				EQU		'cmap'

kFontUnicodePlatform			EQU		0
kFontMacintoshPlatform			EQU		1
kFontReservedPlatform			EQU		2
kFontMicrosoftPlatform			EQU		3
kFontCustomPlatform				EQU		4

kFontUnicodeDefaultSemantics	EQU		0
kFontUnicodeV1_1Semantics		EQU		1
kFontISO10646_1993Semantics		EQU		2

kFontRomanScript				EQU		0
kFontJapaneseScript				EQU		1
kFontTraditionalChineseScript	EQU		2
kFontChineseScript				EQU		2
kFontKoreanScript				EQU		3
kFontArabicScript				EQU		4
kFontHebrewScript				EQU		5
kFontGreekScript				EQU		6
kFontCyrillicScript				EQU		7
kFontRussian					EQU		7
kFontRSymbolScript				EQU		8
kFontDevanagariScript			EQU		9
kFontGurmukhiScript				EQU		10
kFontGujaratiScript				EQU		11
kFontOriyaScript				EQU		12
kFontBengaliScript				EQU		13
kFontTamilScript				EQU		14
kFontTeluguScript				EQU		15
kFontKannadaScript				EQU		16
kFontMalayalamScript			EQU		17
kFontSinhaleseScript			EQU		18
kFontBurmeseScript				EQU		19
kFontKhmerScript				EQU		20
kFontThaiScript					EQU		21
kFontLaotianScript				EQU		22
kFontGeorgianScript				EQU		23
kFontArmenianScript				EQU		24
kFontSimpleChineseScript		EQU		25
kFontTibetanScript				EQU		26
kFontMongolianScript			EQU		27
kFontGeezScript					EQU		28
kFontEthiopicScript				EQU		28
kFontAmharicScript				EQU		28
kFontSlavicScript				EQU		29
kFontEastEuropeanRomanScript	EQU		29
kFontVietnameseScript			EQU		30
kFontExtendedArabicScript		EQU		31
kFontSindhiScript				EQU		31
kFontUninterpretedScript		EQU		32

kFontMicrosoftSymbolScript		EQU		0
kFontMicrosoftStandardScript	EQU		1


kFontCustom8BitScript			EQU		0
kFontCustom816BitScript			EQU		1
kFontCustom16BitScript			EQU		2
;  Language codes are zero based everywhere but within a 'cmap' table 

kFontEnglishLanguage			EQU		0
kFontFrenchLanguage				EQU		1
kFontGermanLanguage				EQU		2
kFontItalianLanguage			EQU		3
kFontDutchLanguage				EQU		4
kFontSwedishLanguage			EQU		5
kFontSpanishLanguage			EQU		6
kFontDanishLanguage				EQU		7
kFontPortugueseLanguage			EQU		8
kFontNorwegianLanguage			EQU		9
kFontHebrewLanguage				EQU		10
kFontJapaneseLanguage			EQU		11
kFontArabicLanguage				EQU		12
kFontFinnishLanguage			EQU		13
kFontGreekLanguage				EQU		14
kFontIcelandicLanguage			EQU		15
kFontMalteseLanguage			EQU		16
kFontTurkishLanguage			EQU		17
kFontCroatianLanguage			EQU		18
kFontTradChineseLanguage		EQU		19
kFontUrduLanguage				EQU		20
kFontHindiLanguage				EQU		21
kFontThaiLanguage				EQU		22
kFontKoreanLanguage				EQU		23
kFontLithuanianLanguage			EQU		24
kFontPolishLanguage				EQU		25
kFontHungarianLanguage			EQU		26
kFontEstonianLanguage			EQU		27
kFontLettishLanguage			EQU		28
kFontLatvianLanguage			EQU		28
kFontSaamiskLanguage			EQU		29
kFontLappishLanguage			EQU		29
kFontFaeroeseLanguage			EQU		30
kFontFarsiLanguage				EQU		31
kFontPersianLanguage			EQU		31
kFontRussianLanguage			EQU		32
kFontSimpChineseLanguage		EQU		33
kFontFlemishLanguage			EQU		34
kFontIrishLanguage				EQU		35
kFontAlbanianLanguage			EQU		36
kFontRomanianLanguage			EQU		37
kFontCzechLanguage				EQU		38
kFontSlovakLanguage				EQU		39
kFontSlovenianLanguage			EQU		40
kFontYiddishLanguage			EQU		41
kFontSerbianLanguage			EQU		42
kFontMacedonianLanguage			EQU		43
kFontBulgarianLanguage			EQU		44
kFontUkrainianLanguage			EQU		45
kFontByelorussianLanguage		EQU		46
kFontUzbekLanguage				EQU		47
kFontKazakhLanguage				EQU		48
kFontAzerbaijaniLanguage		EQU		49
kFontAzerbaijanArLanguage		EQU		50
kFontArmenianLanguage			EQU		51
kFontGeorgianLanguage			EQU		52
kFontMoldavianLanguage			EQU		53
kFontKirghizLanguage			EQU		54
kFontTajikiLanguage				EQU		55
kFontTurkmenLanguage			EQU		56
kFontMongolianLanguage			EQU		57
kFontMongolianCyrLanguage		EQU		58
kFontPashtoLanguage				EQU		59
kFontKurdishLanguage			EQU		60
kFontKashmiriLanguage			EQU		61
kFontSindhiLanguage				EQU		62
kFontTibetanLanguage			EQU		63
kFontNepaliLanguage				EQU		64
kFontSanskritLanguage			EQU		65
kFontMarathiLanguage			EQU		66
kFontBengaliLanguage			EQU		67
kFontAssameseLanguage			EQU		68
kFontGujaratiLanguage			EQU		69
kFontPunjabiLanguage			EQU		70
kFontOriyaLanguage				EQU		71
kFontMalayalamLanguage			EQU		72
kFontKannadaLanguage			EQU		73
kFontTamilLanguage				EQU		74
kFontTeluguLanguage				EQU		75
kFontSinhaleseLanguage			EQU		76
kFontBurmeseLanguage			EQU		77
kFontKhmerLanguage				EQU		78
kFontLaoLanguage				EQU		79
kFontVietnameseLanguage			EQU		80
kFontIndonesianLanguage			EQU		81
kFontTagalogLanguage			EQU		82
kFontMalayRomanLanguage			EQU		83
kFontMalayArabicLanguage		EQU		84
kFontAmharicLanguage			EQU		85
kFontTigrinyaLanguage			EQU		86
kFontGallaLanguage				EQU		87
kFontOromoLanguage				EQU		87
kFontSomaliLanguage				EQU		88
kFontSwahiliLanguage			EQU		89
kFontRuandaLanguage				EQU		90
kFontRundiLanguage				EQU		91
kFontChewaLanguage				EQU		92
kFontMalagasyLanguage			EQU		93
kFontEsperantoLanguage			EQU		94
kFontWelshLanguage				EQU		128
kFontBasqueLanguage				EQU		129
kFontCatalanLanguage			EQU		130
kFontLatinLanguage				EQU		131
kFontQuechuaLanguage			EQU		132
kFontGuaraniLanguage			EQU		133
kFontAymaraLanguage				EQU		134
kFontTatarLanguage				EQU		135
kFontUighurLanguage				EQU		136
kFontDzongkhaLanguage			EQU		137
kFontJavaneseRomLanguage		EQU		138
kFontSundaneseRomLanguage		EQU		139
;  The following are special "don't care" values to be used in interfaces 

kFontNoPlatform					EQU		-1
kFontNoScript					EQU		-1
kFontNoLanguage					EQU		-1
sfntCMapSubHeader		RECORD 0
format					 ds.w	1				; offset: $0 (0)
length					 ds.w	1				; offset: $2 (2)
languageID				 ds.w	1				; offset: $4 (4)		;  base-1 
sizeof					 EQU *					; size:   $6 (6)
						ENDR

sizeof_sfntCMapSubHeader		EQU		6
sfntCMapEncoding		RECORD 0
platformID				 ds.w	1				; offset: $0 (0)		;  base-0 
scriptID				 ds.w	1				; offset: $2 (2)		;  base-0 
offset					 ds.l	1				; offset: $4 (4)
sizeof					 EQU *					; size:   $8 (8)
						ENDR

sizeof_sfntCMapEncoding			EQU		8
sfntCMapHeader			RECORD 0
version					 ds.w	1				; offset: $0 (0)
numTables				 ds.w	1				; offset: $2 (2)
encoding				 ds		sfntCMapEncoding ; offset: $4 (4) <-- really an array of length one
sizeof					 EQU *					; size:   $C (12)
						ENDR

sizeof_sfntCMapHeader			EQU		4
;  Name table 

nameFontTableTag				EQU		'name'

kFontCopyrightName				EQU		0
kFontFamilyName					EQU		1
kFontStyleName					EQU		2
kFontUniqueName					EQU		3
kFontFullName					EQU		4
kFontVersionName				EQU		5
kFontPostscriptName				EQU		6
kFontTrademarkName				EQU		7
kFontManufacturerName			EQU		8
kFontDesignerName				EQU		9
kFontDescriptionName			EQU		10
kFontVendorURLName				EQU		11
kFontDesignerURLName			EQU		12
kFontLicenseDescriptionName		EQU		13
kFontLicenseInfoURLName			EQU		14
kFontLastReservedName			EQU		255
;  The following is a special "don't care" value to be used in interfaces 

kFontNoName						EQU		-1
sfntNameRecord			RECORD 0
platformID				 ds.w	1				; offset: $0 (0)		;  base-0 
scriptID				 ds.w	1				; offset: $2 (2)		;  base-0 
languageID				 ds.w	1				; offset: $4 (4)		;  base-0 
nameID					 ds.w	1				; offset: $6 (6)		;  base-0 
length					 ds.w	1				; offset: $8 (8)
offset					 ds.w	1				; offset: $A (10)
sizeof					 EQU *					; size:   $C (12)
						ENDR

sizeof_sfntNameRecord			EQU		12
sfntNameHeader			RECORD 0
format					 ds.w	1				; offset: $0 (0)
count					 ds.w	1				; offset: $2 (2)
stringOffset			 ds.w	1				; offset: $4 (4)
rec						 ds		sfntNameRecord ; offset: $6 (6) <-- really an array of length one
sizeof					 EQU *					; size:   $12 (18)
						ENDR

sizeof_sfntNameHeader			EQU		6
;  Fvar table - font variations 

variationFontTableTag			EQU		'fvar'
;  These define each font variation 
sfntVariationAxis		RECORD 0
axisTag					 ds.l	1				; offset: $0 (0)
minValue				 ds.l	1				; offset: $4 (4)
defaultValue			 ds.l	1				; offset: $8 (8)
maxValue				 ds.l	1				; offset: $C (12)
flags					 ds.w	1				; offset: $10 (16)
nameID					 ds.w	1				; offset: $12 (18)
sizeof					 EQU *					; size:   $14 (20)
						ENDR

sizeof_sfntVariationAxis		EQU		20
;  These are named locations in style-space for the user 
sfntInstance			RECORD 0
nameID					 ds.w	1				; offset: $0 (0)
flags					 ds.w	1				; offset: $2 (2)
coord					 ds.l	1				; offset: $4 (4) <-- really an array of length one ;  [axisCount] 
;  room to grow since the header carries a tupleSize field 
sizeof					 EQU *					; size:   $8 (8)
						ENDR

sizeof_sfntInstance				EQU		4
sfntVariationHeader		RECORD 0
version					 ds.l	1				; offset: $0 (0)		;  1.0 Fixed 
offsetToData			 ds.w	1				; offset: $4 (4)		;  to first axis = 16
countSizePairs			 ds.w	1				; offset: $6 (6)		;  axis+inst = 2 
axisCount				 ds.w	1				; offset: $8 (8)
axisSize				 ds.w	1				; offset: $A (10)
instanceCount			 ds.w	1				; offset: $C (12)
instanceSize			 ds.w	1				; offset: $E (14)
;  …other <count,size> pairs 
axis					 ds		sfntVariationAxis ; offset: $10 (16) <-- really an array of length one ;  [axisCount] 
instance				 ds		sfntInstance	; offset: $24 (36) <-- really an array of length one ;  [instanceCount]  …other arrays of data 
sizeof					 EQU *					; size:   $2C (44)
						ENDR

sizeof_sfntVariationHeader		EQU		16
;  Fdsc table - font descriptor 

descriptorFontTableTag			EQU		'fdsc'
sfntFontDescriptor		RECORD 0
name					 ds.l	1				; offset: $0 (0)
value					 ds.l	1				; offset: $4 (4)
sizeof					 EQU *					; size:   $8 (8)
						ENDR
sfntDescriptorHeader	RECORD 0
version					 ds.l	1				; offset: $0 (0)		;  1.0 in Fixed 
descriptorCount			 ds.l	1				; offset: $4 (4)
descriptor				 ds		sfntFontDescriptor ; offset: $8 (8) <-- really an array of length one
sizeof					 EQU *					; size:   $10 (16)
						ENDR

sizeof_sfntDescriptorHeader		EQU		8
;  Feat Table - layout feature table 

featureFontTableTag				EQU		'feat'
sfntFeatureName			RECORD 0
featureType				 ds.w	1				; offset: $0 (0)
settingCount			 ds.w	1				; offset: $2 (2)
offsetToSettings		 ds.l	1				; offset: $4 (4)
featureFlags			 ds.w	1				; offset: $8 (8)
nameID					 ds.w	1				; offset: $A (10)
sizeof					 EQU *					; size:   $C (12)
						ENDR
sfntFontFeatureSetting	RECORD 0
setting					 ds.w	1				; offset: $0 (0)
nameID					 ds.w	1				; offset: $2 (2)
sizeof					 EQU *					; size:   $4 (4)
						ENDR
sfntFontRunFeature		RECORD 0
featureType				 ds.w	1				; offset: $0 (0)
setting					 ds.w	1				; offset: $2 (2)
sizeof					 EQU *					; size:   $4 (4)
						ENDR
sfntFeatureHeader		RECORD 0
version					 ds.l	1				; offset: $0 (0)		;  1.0 
featureNameCount		 ds.w	1				; offset: $4 (4)
featureSetCount			 ds.w	1				; offset: $6 (6)
reserved				 ds.l	1				; offset: $8 (8)		;  set to 0 
names					 ds		sfntFeatureName ; offset: $C (12) <-- really an array of length one
settings				 ds		sfntFontFeatureSetting ; offset: $18 (24) <-- really an array of length one
runs					 ds		sfntFontRunFeature ; offset: $1C (28) <-- really an array of length one
sizeof					 EQU *					; size:   $20 (32)
						ENDR
;  OS/2 Table 

os2FontTableTag					EQU		'OS/2'
;   Special invalid glyph ID value, useful as a sentinel value, for example 

nonGlyphID						EQU		65535
;   Data type used to access names from font name table 
; typedef UInt32 						FontNameCode

;  Data types for encoding components as used in interfaces 
; typedef UInt32 						FontPlatformCode

; typedef UInt32 						FontScriptCode

; typedef UInt32 						FontLanguageCode

; 
;**  FontVariation is used to specify a coordinate along a variation axis. The name
;**  identifies the axes to be applied, and value is the setting to be used.
;

FontVariation			RECORD 0
name					 ds.l	1				; offset: $0 (0)
value					 ds.l	1				; offset: $4 (4)
sizeof					 EQU *					; size:   $8 (8)
						ENDR
	ENDIF ; __SFNTTYPES__ 

